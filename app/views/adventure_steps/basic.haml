#adventure_create
  .container
    = render partial: "/adventures/adv_create_header"
    #adv_basics
      %form{"accept-charset" => "UTF-8", action: wizard_path, method: "POST", id: "adventure_edit_form", enctype: "multipart/form-data"}
        = tag(:input, :type => "hidden", :value => "put", :name => "_method")
        = tag(:input, :type => "hidden", :name => request_forgery_protection_token.to_s, :value => form_authenticity_token)
          
        .panel.panel-default 
          .panel-heading.text-center.section_header
            BASICS
          .panel-body
            .form-group.row
              .col-md-4
                .form_label.text-right Title *
              .col-md-6
                %input.form-control.show_ml{type: "text", required: "required", name: "adventure[title]", id: "adv_name", value: "#{@adventure.title}", maxlength: "40", :data => {:container => "body", :toggle => "popover", :placement => "right", :content => "Ex: Surfing in la punta"}}
            .form-group.row
              .col-md-4
                .form_label.text-right Location *
              .col-md-6
                %input.form-control.show_ml{type: "text", required: "required", name: "adventure[location]", id: "adv_location", value: "#{@adventure.location}", maxlength: "75", :data => {:container => "body", :toggle => "popover", :placement => "right", :content => "Meeting Address, Ex: 123 Hiking St. Denver, CO 80219"}}

                #location-map= image_tag "http://maps.google.com/maps/api/staticmap?size=450x300&sensor=false&zoom=13&markers=#{@adventure.latitude}%2C#{@adventure.longitude}" if @adventure.location

            .form-group.row
              .col-md-4
                .form_label.text-right Summary *
              .col-md-6
                %textarea.form-control.show_ml{rows: "7", type: "text", required: "required", name: "adventure[summary]", id: "adv_summary", maxlength: "600", :data => {:container => "body", :toggle => "popover", :placement => "right", :content => "This is the description for your adventure! Sell it with a detailed & informative summary!"}}
                  - if !@adventure.other_notes.nil?
                    #{@adventure.summary}
                    
            .form-group.row
              .col-md-4
                .form_label.text-right Capacity *
              .col-md-1
                %input.form-control{type: "text", required: "required", name: "adventure[cap_min]", id: "adv_cap_min", value: "#{@adventure.cap_min}"}
                .text-center Min
              .col-md-1
                %input.form-control{type: "text", required: "required", name: "adventure[cap_max]", id: "adv_cap_max", value: "#{@adventure.cap_max}"}
                .text-center Max
            .form-group.row
              .col-md-4
                .form_label.text-right Duration *
              .col-md-1
                %input.form-control{type: "text", required: "required", name: "adventure[duration_num]", id: "adv_duration_num", value: "#{@adventure.duration_num}"}
              .col-md-2
                %select.form-control{name: "adventure[duration_type]", id: "adv_duration_type"}
                  - options_dur = ["Hours", "Minutes", "Days"]
                  - options_dur.each do |o|
                    - if @adventure.duration_type == o
                      %option{selected: "true"}= o
                    - else 
                      %option= o 
            .form-group.row
              .col-md-4
                .form_label.text-right Price *
              .col-md-2
                .input-group
                  %span.input-group-addon
                    $
                  %input.form-control{type: "text", required: "required", name: "adventure[price]", id: "adv_price", value: "#{@adventure.price}"}
                  %span.input-group-addon
                    USD
              .col-md-3
                %label.radio-inline
                  %input{type: "radio", name: "adventure[price_type]", id: "adv_price_type", value: "per_person", checked: "checked"}
                    Per Person
                %label.radio-inline
                  %input{type: "radio", name: "adventure[price_type]", id: "adv_price_type", value: "per_adv"}
                    Flat Rate
            .form-group.row
              .col-md-4
                .form_label.text-right Categories *
              .col-md-6
                - options = ['CULTURE', 'BIKE', 'HIKE', 'CAMP', 'WATER', 'SNOW', 'ROCK', 'WILDCARD', 'CLIMB']
                - options.each do |o|
                  %label.checkbox-inline
                    - if @adventure.category.include?(o.downcase)
                      %input{type: "checkbox", id: o.downcase, value: o.downcase, name: 'category[]', checked: "checked"}
                    - else 
                      %input{type: "checkbox", id: o.downcase, value: o.downcase, name: 'category[]'}
                    = o

                / - options = ['CULTURE', 'BIKE', 'HIKE', 'CAMP', 'WATER', 'SNOW', 'ROCK', 'WILDCARD']
                / %select.multiselect{multiple: true, :required => true, name: 'category[]'}
                /   = options.each do |o|
                /     %option{value: o.downcase}= o


            .form-group.row
              .col-md-4
                .form_label.text-right Other Notes
              .col-md-6
                %textarea.form-control.show_ml{placeholder: "(Optional)", rows: "5", type: "text", name: "adventure[other_notes]", id: "adv_other_notes", maxlength: "150", :data => {:container => "body", :toggle => "popover", :placement => "right", :content => "This information will be emailed to the users after they book your adventure"}}
                  - if !@adventure.other_notes.nil?
                    #{@adventure.other_notes}
            .form-group
              .col-md-4
                .form_label.text-right Adventure Banner Image *
              .col-md-6
                - if !@adventure.attachment.nil?
                  %input.filestyle{type: "file", name: "adventure[attachment]", id: "adventure_attachment"}
                  = image_tag @adventure.attachment.url(:large), class: "img-responsive img-square", style: "margin: 15px auto;"
                - else 
                  %input.filestyle{type: "file", name: "adventure[attachment]", id: "adventure_attachment"}

          .panel-footer.text-center
            %input.btn.btn-primary.preview_btn{name: "commit", type: "submit", value: "NEXT"}
                
:javascript
  adventureCreate();
