.adventure-page-container
  - if @hero_image
    #hero_image{style: "background-image: url('#{@hero_image.attachment.url(:hero)}');"}
  #location_text= @location ? @location.upcase : "Advlo" 
  - filters = adv_categories
  .filter-container
    %a.filter{href: "/adventures/#{@location}/all", 'data-remote' => true} 
      %span RESET
    - filters.each do |f|
      %a.filter{href: "/adventures/#{@location}/#{f}", 'data-remote' => true}
        %span= f
  .filter-static
    - filters.each do |f|
      %a.filter{href: "/adventures/#{@location}/#{f}", 'data-remote' => true}
        %span= f

  .adventure-container
    - if @adventures.first != nil
      = render partial: "adventure_index", locals: {adventures: @adventures}

    - else 
      .brick-wrapper.masonry.js-masonry
        %a.adventure-brick{href: 'adventures/info', style: 'text-decoration:none;'}
          .image-wrapper#no-adventures= image_tag 'missing.png'
          #no-adv-text Add an adventure in this area

    .text-center
      .btn.btn-default
        Show More
    .text-center
      .btn.btn-primary.request_btn{'data-toggle' => "modal", 'data-target' => '#request_form_modal'}
        Request Adventure

      #request_form_modal.modal.fade{role: "dialog"}
        .modal-dialog
          .modal-content
            .modal-header
              Create an Adventure — We'll Find You a Host
            .modal-body
              %form{"accept-charset" => "UTF-8", action: "/adventures/requests", method: "POST", id: "request_form", "data-remote" => "true"}
                = tag(:input, :type => "hidden", :name => request_forgery_protection_token.to_s, :value => form_authenticity_token)
                - if current_user
                  = tag(:input, :type => "hidden", :name => "request[user_id]", :value => current_user.id)
                .form-group.row
                  .col-md-4 
                    .form_label.text-right Destination *
                  .col-md-6
                    %input.form-control{type: "text", name: "request[location]", id: "request_location", placeholder: "Enter a destination. Ex: Denver, CO or Colorado"}
                .form-group.row
                  .col-md-4 
                    .form_label.text-right Category
                  .col-md-6
                    - options = adv_categories
                    - options.each do |o|
                      %label.checkbox-inline
                        %input{type: "checkbox", id: o.downcase, value: o.downcase, name: 'request_category[]'}
                        = o
                .form-group.row
                  .col-md-4 
                    .form_label.text-right Dates *
                  .col-md-6
                    %textarea.form-control.show_ml{rows: "2", type: "text", name: "request[dates]", id: "request_dates", maxlength: "250", placeholder: "Ex: 7/4/14 or 7/4/14 - 7/10/14 or any Saturday"}
                .form-group.row
                  .col-md-4 
                    .form_label.text-right Description / Details *
                  .col-md-6
                    %textarea.form-control.show_ml{rows: "5", type: "text", name: "request[description]", id: "request_description", maxlength: "250"}
                .form-group.row
                  .col-md-4 
                    .form_label.text-right Budget *
                  .col-md-6
                    %input.form-control{type: "text", name: "request[budget]", id: "request_budget", placeholder: "$50 - $100"}
                .form-group.row
                  .col-md-4 
                    .form_label.text-right Email *
                  .col-md-6
                    %input.form-control.show_ml{type: "text", name: "request[email]", id: "request_email", maxlength: "40"}
                .row.text-center
                  .btn.btn-primary.request_btn
                    Request Adventure

              #request_submitted
                .row
                  .col-md-10.col-md-offset-1
                    %i.fa.fa-road
                    %br
                    Don’t worry — Advlo knows a guy. 
                    %br
                    We’ll contact you once we find a qualified host for your adventure.


:javascript
  $(window).load(function(){
    adventureIndex();
  })  

  $(window).resize(function(){
    positionLocationText()
  })

  $('#request_form .request_btn').click(function() {
    $('#request_form').submit();
  })