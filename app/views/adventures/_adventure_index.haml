#adventure-partial
  .brick-wrapper.masonry.js-masonry
    - adventures.each_with_index do |adv, i|
      %div{:itemscope => true, :itemtype => "http://schema.org/Thing",}
        %a.adventure-brick{href: adventure_path(adv.slug), itemprop: 'url'}
          - if adv.attachment.height(:large) >= 300
            - adv_img = adv.attachment.url(:large)
          - else
            - adv_img = adv.attachment.url(:hero)
          .rich-snippet{itemprop: 'image', src: adv.attachment.url(:thumb)}
          .image-wrapper{style: "background: url(#{adv_img}) no-repeat center center;"}
            .copy{id: "#{i}"}
              - if adv.title.length > 38
                .title{itemprop: 'name'}= "#{adv.title[0..36]}..."
              -else
                .title{itemprop: 'name'}= adv.title

              .location{itemprop: 'description'}= get_display_location(adv)

              %input{type: "hidden", id: "adv_rating_value_#{i}", "data-rating"=>"#{adv.rating}"}
              %input{id: "adv_rating_show_#{i}"}

            .price= "$ #{adv.price}"

            .hover-block{id: i}
              .guide-image= image_tag adv.users.first.get_avatar_url('large'), alt: adv.title
            .copy-container{class: "copy-#{i}"}

    .adventure-brick.request_block.text-center{'data-toggle' => "modal", 'data-target' => '#request_form_modal', style: 'text-decoration:none;'}
      .image-wrapper= image_tag 'icons/request_icon.png'
      #request-adv-text request an adventure

:javascript
  centerGuideImage();